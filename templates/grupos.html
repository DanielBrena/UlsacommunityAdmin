<header>
  <nav class="white pink-text ">
    <ul class="right hide-on-med-and-down">
      <li><a class="modal-trigger pink-text" href="#signup">Cerrar sesión</a></li>
    </ul>

    <a href="#" class="brand-logo center pink-text">ULSACOMMUNTY</a>


    <ul id="slide-out" class="side-nav pink">
      <li><a class="white-text"href="#principal">Principal</a></li>
      <li><a class="white-text"href="#viernes">Viernes Cultural</a></li>
      <li><a class="white-text"href="#grupos">Grupos</a></li>
      <li><a class="white-text"href="#semestres">Semestres</a></li>
      <li><a class="white-text"href="#maestros">Maestros</a></li>
    </ul>

    <a href="#" data-activates="slide-out" data-menuwidth="500" data-closeonclick="true" class="button-collapse show-on-large pink-text text-pink"><i class="fa fa-bars" aria-hidden="true"></i></a>
  </nav>


</header>
<main>

  <div class="container">
    <div class="row">
      <div class="col s12 m12 l12">
        <div class="card">
          <form class="col s12 ">
            <div class="row">
              <div class="input-field col s12">
                <i class="fa fa-search prefix" aria-hidden="true"></i>
                <input id="icon_prefix" ng-model="searchGrupo" type="text" class="validate ">
                <label for="icon_prefix">Nombre del grupo</label>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col s12 m6 l3" ng-repeat="g in grupos | filter:searchGrupo">
        <div class="card">
          <div class="card-image  ">
            <ng-letter-avatar fontFamily="Roboto" alphabetcolors="alphabetcolors"  data="{{g.name}}"></ng-letter-avatar>
            <span class="card-title">{{g.name}}</span>
          </div>



          <div class="card-action">
            <i class="fa fa-ellipsis-v right button-options" aria-hidden="true" dropdown data-hover="true" data-activates='dropdown-{{g._id}}'></i>
            <p>

            </p>
          </div>
          <ul id='dropdown-{{g._id}}' class='dropdown-content'>

            <li ><a ui-sref="alumnos({id:g._id})">Alumnos</a></li>
            <li><a href="#!">Estadisticas</a></li>
            <li><a ng-click="abrirModalGrupo(g)" >Editar</a></li>
            <li class="divider"></li>
            <li><a ng-click="abrirModalGrupoEliminar(g._id)" >Eliminar</a></li>
          </ul>



        </div>
      </div>

      <div id="modal-grupo-eliminar" class="modal modal-fixed-footer pink">
        <div class="modal-content white-text">
          <h4>¿Desea eliminar por completo el grupo?</h4>
          <p>Al eliminar el grupo se eliminaran todas las calificaciones y asistencias asociadas.</p>
        </div>
        <div class="modal-footer">

          <button   class="btn btn-small waves-effect waves-light light-blue accent-2" ng-click="eliminarGrupo()" type="submit" name="action">
            <i class="fa fa-check" aria-hidden="true"></i>
          </button>

          <button   class="btn btn-small waves-effect waves-light purple accent-3 modal-close" type="submit" name="action">
            <i class="fa fa-close rigth" aria-hidden="true"></i>
          </button>

          <!-- <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat ">Agree</a> -->
        </div>
      </div>


      <div id="modal-grupo" class="modal modal-fixed-footer ">
        <div class="modal-content " ng-form="formularioGrupo">
          <div class="row">
            <div class="col l12">
              <div class="section">
                <h5>{{grupo._id ? 'Editar grupo':'Crear grupo'}}</h5>
              </div>
              <div class="divider">

              </div>
            </div>
          </div>
          <div class="row">

            <div class="col l6" >
              <div input-field>
                <input type="text" name="usuario" length="150" class="validate" ng-model="grupo.name" required >
                <label  for="usuario" data-error="Debe ingresar un usuario" >Nombre del grupo</label>
              </div>

              <div input-field>
                <textarea id="textarea1" ng-model="grupo.description" class="materialize-textarea"></textarea>
                <label for="textarea1">Descripcion</label>
              </div>
              <input type="checkbox" ng-model="grupo.status"  id="test5" />
              <label for="test5">Activo</label>



            </div>
            <div class="col l6">
              <div class="input-field col l12">
                <select  ng-model="grupo.type" required class="browser-default"  >
                  <option value="" disabled selected>Selecciona un tipo</option>
                  <option value="interno">Interno</option>
                  <option value="externo">Externo</option>
                  <option value="reposicion">Reposición</option>
                </select>
              </div>

              <div class="input-field col l12">
                <select  class="browser-default" required ng-model="grupo.activity"  ng-options="actividad.id as actividad.name for actividad in actividades" >
                  <option value="" disabled selected>Selecciona una actividad</option>

                </select>
              </div>

              <div class="input-field col l12">
                <select  class="browser-default" required ng-model="grupo.semester"  ng-options="semestre.id as semestre.name for semestre in semestres" >
                  <option value="" disabled selected>Selecciona un semestre</option>

                </select>
              </div>
            </div>



          </div>
          <div class="modal-footer center-align">

            <button  class="btn btn-small waves-effect waves-light purple accent-3 modal-close" type="submit" name="action">Cancelar
              <i class="fa fa-close rigth" aria-hidden="true"></i>
            </button>

            <button ng-show="grupo._id" ng-disabled="formularioGrupo.$invalid" ng-click="actualizarGrupo(grupo)" class="btn waves-effect waves-light light-blue accent-2" type="submit" name="action">Actualizar
              <i class="fa fa-paper-plane-o" aria-hidden="true"></i>
            </button>

            <button ng-hide="grupo._id" ng-disabled="formularioGrupo.$invalid" ng-click="crearGrupo(grupo)" class="btn waves-effect waves-light light-blue accent-2" type="submit" name="action">Crear
              <i class="fa fa-paper-plane-o" aria-hidden="true"></i>
            </button>

          </div>
        </div>
      </div>

    </div>
  </div>


  <div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
    <a class="btn-floating btn-large red">
      <i class="fa fa-pencil" aria-hidden="true"></i>
    </a>
    <ul>
      <li><a ng-click="abrirModalGrupo({})" class="btn-floating green"><i class="fa fa-plus fa-fw" aria-hidden="true"></i></a></li>
    </ul>
  
  </div>

</main>


<footer class="page-footer pink">
  <div class="container">
    <div class="row">
      <div class="col l12 s12">
        <!-- <h5 class="white-text">Footer Content</h5>
        <p class="grey-text text-lighten-4">You can use rows and columns here to organize your footer content.</p> -->

      </div>

    </div>
  </div>
  <div class="footer-copyright">
    <div class="container">
      © 2016 ULSACOMMUNITY TEAM
      <!-- <a class="grey-text text-lighten-4 right" href="#!">More Links</a> -->
    </div>
  </div>
</footer>
