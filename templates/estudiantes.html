<header>
  <nav class="white pink-text ">
    <ul class="right hide-on-med-and-down">
      <li><a class="modal-trigger pink-text" href="#signup">Cerrar sesión</a></li>
    </ul>

      <a href="#" class="brand-logo center pink-text">ULSACOMMUNTY</a>


      <ul id="slide-out" class="side-nav pink">
        <li><a class="white-text"href="#principal">Principal</a></li>
        <li><a class="white-text"href="#viernes">Viernes Cultural</a></li>
        <li><a class="white-text"href="#grupos">Grupos</a></li>
        <li><a class="white-text"href="#semestres">Semestres</a></li>
        <li><a class="white-text"href="#maestros">Maestros</a></li>
        <li><a class="white-text"href="#estudiantes">Alumnos</a></li>
      </ul>

      <a href="#" data-activates="slide-out" data-menuwidth="500" data-closeonclick="true" class="button-collapse show-on-large pink-text text-pink"><i class="fa fa-bars" aria-hidden="true"></i></a>
  </nav>


</header>
<main>
  <div class="container">
    <div class="row">
      <div class="col s12 m12 l12">
        <div class="card">
          <form class="col s12 ">
            <div class="row">
              <div class="input-field col s12">
                <i class="fa fa-search prefix" aria-hidden="true"></i>
                <input id="icon_prefix" ng-keyup="searchAlumno(query)" ng-model="query" type="text" class="validate ">
                <label for="icon_prefix">Nombre o matricula</label>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col s12 m6 l3" ng-repeat="e in estudiantes | filter:query">
        <div class="card">
          <div class="card-image circle ">
            <div class="" ng-if="e.gender == 'hombre'">
              <ng-letter-avatar fontFamily="Roboto" dynamic=true  class="circle" avatarcustombgcolor="#90caf9" data="{{e.name}}"></ng-letter-avatar>

            </div>
            <div class="" ng-if="e.gender == 'mujer'">
              <ng-letter-avatar fontFamily="Roboto" dynamic=true  class="circle" avatarcustombgcolor="#f48fb1" data="{{e.name}}"></ng-letter-avatar>

            </div>
            <span class="card-title">{{e.name.split(' ').length > 1 ? e.name.split(' ')[0] : e.name}}</span>

              </div>

              <div class="card-content">

              </div>


          <div class="card-action">
            <i class="fa fa-ellipsis-v right button-options" aria-hidden="true" dropdown data-hover="true" data-activates='dropdown-{{e.id}}'></i>
            <p>

            </p>
          </div>
          <ul id='dropdown-{{e.id}}' class='dropdown-content'>

            <li ><a  ng-click="abrirModal(m.groups)">Grupos</a></li>
            <li><a href="#!">Estadisticas</a></li>
            <li><a ng-click="abrirModalCuenta(m.user)" >Cuenta</a></li>
            <li class="divider"></li>
            <li><a href="#!">Eliminar</a></li>
          </ul>



      </div>
    </div>

    <div id="modal-cuenta" class="modal modal-fixed-footer ">
      <div class="modal-content " ng-form="formularioUsuario">

        <div class="row">

          <div class="col l6 offset-l3" >
            <div input-field>
                <input type="text" name="usuario" length="150" class="validate" ng-model="usuario.username" required >
                <label  for="usuario" data-error="Debe ingresar un usuario" >Usuario</label>
            </div>
            <div input-field>
                <input type="email" name="email"  class="validate" ng-model="usuario.email" required >
                <label  for="usuario" data-error="Debe ingresar un usuario" >Corre electronico</label>
            </div>
            <div input-field>
                <input type="password" name="password"  class="validate"   ng-model="usuario.password" >
                <label  for="usuario" data-error="Debe ingresar un usuario">Contraseña</label>
            </div>
            <input type="checkbox" ng-model="usuario.active"  id="test5" />
            <label for="test5">Activo</label>



          </div>



      </div>
      <div class="modal-footer center-align">

        <button  class="btn btn-small waves-effect waves-light purple accent-3 modal-close" type="submit" name="action">Cancelar
          <i class="fa fa-close rigth" aria-hidden="true"></i>
        </button>

        <button ng-disabled="formularioUsuario.$invalid" ng-click="actualizarUsuario(usuario,password)" class="btn waves-effect waves-light light-blue accent-2" type="submit" name="action">Actualizar
          <i class="material-icons right">send</i>
        </button>






      </div>
    </div>
  </div>

  <div id="modal-grupos" class="modal bottom-sheet ">
    <div class="modal-content white-text">
      <div class="row">
        <div class="col s12 m3 l1" ng-repeat="g in grupos">

            <div class="card" ui-sref="alumnos({id:g.id})">
              <div class="card-image circle ">

                <ng-letter-avatar fontFamily="Roboto" alphabetcolors="alphabetcolors" class="pink" data="{{g.name}}" ></ng-letter-avatar>
              </div>
              <div class="card-content blue-text  ">
                <h6 class="center-align">{{g.name}}</h6>
              </div>



            </div>
        </div>
      </div>


    </div>
  </div>
</div>
<div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
  <a class="btn-floating btn-large red">
    <i class="fa fa-pencil" aria-hidden="true"></i>
  </a>
  <ul>
    <li><a ng-click="abrirModalGrupo({})" class="btn-floating green"><i class="fa fa-plus fa-fw" aria-hidden="true"></i></a></li>
  </ul>

</div>

</main>

<div id="modal-alumno" class="modal modal-fixed-footer ">
  <div class="modal-content " ng-form="formularioEstudiante">
    <div class="row">
      <div class="col l12">
        <div class="section">
          <h5>{{estudiante.id ? 'Editar alumno':'Crear alumno'}}</h5>
        </div>
        <div class="divider">

        </div>
      </div>
    </div>
    <div class="row">

      <div class="col l6" >
        <div input-field>
          <input type="text" name="matricula" length="150" class="validate" ng-model="estudiante.registration_number" required >
          <label  for="matricula" data-error="Debe ingresar una matricula" >Matricula</label>
        </div>

        <div input-field>
          <input type="text" name="nombre" length="150" class="validate" ng-model="estudiante.name" required >
          <label  for="nombre" data-error="Debe ingresar un nombre" >Nombre del alumno</label>
        </div>

        <div input-field>
          <input type="text" name="apellidos" length="150" class="validate" ng-model="estudiante.lastname" required >
          <label  for="apellidos" data-error="Debe ingresar apellidos" >Apellidos</label>
        </div>




      </div>
      <div class="col l6">
        <div class="input-field col l12">
          <select  ng-model="estudiante.gender" required class="browser-default"  >
            <option value="" disabled selected>Selecciona un genero</option>
            <option value="hombre">Hombre</option>
            <option value="mujer">Mujer</option>
          </select>
        </div>

        <div class="input-field col l12">
          <select  ng-model="estudiante.semester" required class="browser-default"  >
            <option value="" disabled selected>Selecciona un semestre</option>
            <option value="1">Primer semestre</option>
            <option value="2">Segundo semestre</option>
            <option value="3">Tercer semestre</option>
            <option value="4">Cuarto semestre</option>
            <option value="5">Quinto semestre</option>
            <option value="6">Sexto semestre</option>
            <option value="7">Septimo semestre</option>
            <option value="8">Octavo semestre</option>
            <option value="9">Noveno semestre</option>
            <option value="10">Decimo semestre</option>

          </select>
        </div>


      </div>



    </div>
    <div class="modal-footer center-align">

      <button  class="btn btn-small waves-effect waves-light purple accent-3 modal-close" type="submit" name="action">Cancelar
        <i class="fa fa-close rigth" aria-hidden="true"></i>
      </button>

      <button ng-show="estudiante.id" ng-disabled="formularioEstudiante.$invalid" ng-click="actualizarEstudiante(estudiante)" class="btn waves-effect waves-light light-blue accent-2" type="submit" name="action">Actualizar
        <i class="fa fa-paper-plane-o" aria-hidden="true"></i>
      </button>

      <button ng-hide="estudiante.id" ng-disabled="formularioEstudiante.$invalid" ng-click="crearEstudiante(estudiante)" class="btn waves-effect waves-light light-blue accent-2" type="submit" name="action">Crear
        <i class="fa fa-paper-plane-o" aria-hidden="true"></i>
      </button>

    </div>
  </div>
</div>


<footer class="page-footer pink">
  <div class="container">
    <div class="row">
      <div class="col l12 s12">
        <!-- <h5 class="white-text">Footer Content</h5>
        <p class="grey-text text-lighten-4">You can use rows and columns here to organize your footer content.</p> -->

      </div>

    </div>
  </div>
  <div class="footer-copyright">
    <div class="container">
      © 2016 ULSACOMMUNITY TEAM
      <!-- <a class="grey-text text-lighten-4 right" href="#!">More Links</a> -->
    </div>
  </div>
</footer>
